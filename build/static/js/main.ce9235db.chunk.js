(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,n){e.exports=n(65)},62:function(e,t){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(33),o=n.n(r),c=n(1),i=n(2),u=n(4),l=n(3),m=n(5),p=n(34),h=n.n(p),g=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.socket,s=t.setUsername,r=n.state.username;r&&a.emit("add user",r),s(r)},n.state={username:""},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.username;return s.a.createElement("form",{className:"login",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"login-form"},s.a.createElement("label",{htmlFor:"username"},s.a.createElement("h2",null,"What's your username?")),s.a.createElement("input",{id:"username",value:t,onChange:function(t){e.setState({username:t.target.value})},type:"text",maxLength:"14"})))}}]),t}(a.Component),f=n(12),d=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).scrollDown=n.scrollDown.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"scrollDown",value:function(){var e=this.refs.messages;e.scrollTop=e.scrollHeight}},{key:"componentDidMount",value:function(){this.scrollDown()}},{key:"componentDidUpdate",value:function(e,t){this.scrollDown()}},{key:"render",value:function(){var e=this.props,t=e.chats,n=e.myUsername;return s.a.createElement("ul",{ref:"messages",className:"messages neutralize"},t.map(function(e,t){var a=e.username===n?"right":"";return s.a.createElement("li",{key:t,className:a},s.a.createElement("span",{className:"m"},e.message),e.username!==n&&s.a.createElement("span",{className:"text-muted sender"},e.username))}))}}]),t}(a.Component),v=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.users;return s.a.createElement("div",null,s.a.createElement("h3",null,"People"),s.a.createElement("ul",{className:"user-list neutralize"},e.map(function(e,t){return s.a.createElement("li",{key:t},e)})))}}]),t}(a.Component),b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).addChatMessage=function(e){var t=e.username,a=e.message,s={username:t,message:a};n.setState({chats:n.state.chats.concat(s)}),console.log(t,a)},n.addChatTyping=function(e){console.log("Typing",e)},n.removeChatTyping=function(e){console.log("Stop Typing",e)},n.handleSubmit=function(e){e.preventDefault();var t=n.state.message,a=n.props.username;t&&(n.addChatMessage({username:a,message:t}),n.state.socket.emit("new message",t)),n.setState({message:""})},n.onChange=function(e){n.props.connected&&(n.state.typing||(n.setState({typing:!0}),n.state.socket.emit("typing"))),n.stopTyping&&clearInterval(n.stopTyping),n.stopTyping=setTimeout(function(){n.state.typing&&(n.state.socket.emit("stop typing"),n.setState({typing:!1}))},400),n.setState({message:e.target.value})},n.state={socket:null,message:"",typing:!1,chats:[],users:[]},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.socket;t.on("login",function(t){e.setState({users:t.users}),console.log(t)}),t.on("user joined",function(t){e.setState({users:t.users}),console.log(t)}),t.on("new message",function(t){e.addChatMessage(t)}),t.on("typing",function(t){e.addChatTyping(t)}),t.on("stop typing",function(t){e.removeChatTyping(t)}),t.on("user left",function(t){e.setState({users:t.users}),console.log(t.username+" left"),e.removeChatTyping(t)}),this.setState({socket:t})}},{key:"render",value:function(){var e=this.state,t=e.message,n=e.users,a=this.props.username;return s.a.createElement("section",{className:"d-flex"},s.a.createElement("div",{id:"sidebar"},s.a.createElement(v,{users:n})),s.a.createElement("div",{style:{width:"15px"}}),s.a.createElement("div",{id:"chatbox"},s.a.createElement(d,{chats:this.state.chats,myUsername:a}),s.a.createElement("form",{className:"d-flex",onSubmit:this.handleSubmit},s.a.createElement("input",{value:t,onChange:this.onChange,placeholder:"Type here..."}),s.a.createElement("button",null,"Send"))))}}]),t}(a.Component),y="https://glacial-badlands-28940.herokuapp.com",k=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).initSocket=function(){var t=h()(y);t.on("connect",function(){console.log("Connected...")}),e.setState({socket:t})},e.setUsername=function(t){e.setState({username:t})},e.state={username:"",socket:null},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.initSocket()}},{key:"render",value:function(){var e=this.state,t=e.socket,n=e.username;return s.a.createElement("div",{className:"mjl-container"},n?s.a.createElement(b,{username:n,socket:t}):s.a.createElement(g,{username:n,setUsername:this.setUsername,socket:t}))}}]),t}(a.Component);var j=function(){return s.a.createElement(k,null)};o.a.render(s.a.createElement(j,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.ce9235db.chunk.js.map