{"version":3,"sources":["events.js","components/LoginForm.js","components/chats/Messages.js","components/chats/Sidebar.js","components/chats/ChatContainer.js","components/Layout.js","config.js","App.js","index.js"],"names":["module","exports","VERIFY_USER","LOGIN","USER_JOINED","ADD_USER","NEW_MESSAGE","TYPING","STOP_TYPING","USER_LEFT","LoginForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSubmit","e","preventDefault","_this$state","state","socket","username","emit","setUsername","_ref","isUser","setError","error","setState","_this2","_this$state2","disabled","react_default","a","createElement","className","onSubmit","htmlFor","id","value","onChange","target","type","autoComplete","maxLength","Component","Messages","getTime","date","Date","now","concat","getHours","getMinutes","slice","scrollDown","bind","assertThisInitialized","messages","refs","scrollTop","scrollHeight","prevProps","prevState","_","map","typingUsers","user","key","chats","myUsername","length","chat","index","msgAlign","message","_this$props","ref","renderChat","renderTypingUsers","colors","SideBar","userName","style","background","i","charAt","lineHeight","fontSize","users","_renderUser","ChatContainer","addChatMessage","addChatTyping","data","assign","removeChatTyping","typing","stopTyping","clearInterval","setTimeout","on","textAlign","href","rel","Sidebar","width","chats_Messages","placeholder","index_esm","socketUrl","Layout","initSocket","io","reconnet","chats_ChatContainer","components_LoginForm","App","components_Layout","ReactDOM","render","src_App","document","getElementById"],"mappings":"yEAAAA,EAAOC,QAAU,CACfC,YAAY,cACZC,MAAO,QACPC,YAAa,cACbC,SAAS,WACTC,YAAY,cACZC,OAAO,SACPC,YAAY,cACZC,UAAU,4MC0DGC,cA9Db,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAaRQ,aAAe,SAAAC,GACbA,EAAEC,iBADgB,IAAAC,EAEWV,EAAKW,MAA1BC,EAFUF,EAEVE,OAAQC,EAFEH,EAEFG,SACbA,GAEDD,EAAOE,KAAKxB,cAAauB,EAAUb,EAAKe,cAnBzBf,EAuBnBe,YAAc,SAAAC,GAAwB,IAAtBH,EAAsBG,EAAtBH,SAAUI,EAAYD,EAAZC,OACjBF,EAAef,EAAKD,MAApBgB,YACAH,EAAUZ,EAAKW,MAAfC,OACJK,EACDjB,EAAKkB,SAAS,mBAEdlB,EAAKkB,SAAS,MACdN,EAAOE,KAAKrB,WAAUoB,GACtBE,EAAYF,KA/BGb,EAmCnBkB,SAAW,SAAAC,GACTnB,EAAKoB,SAAS,CAACD,WAlCfnB,EAAKW,MAAQ,CACXE,SAAU,GACVM,MAAO,KACPP,OAAQ,MALOZ,oFASC,IACXY,EAAUT,KAAKJ,MAAfa,OACPT,KAAKiB,SAAS,CAACR,4CA4BR,IAAAS,EAAAlB,KAAAmB,EACmBnB,KAAKQ,MAAxBE,EADAS,EACAT,SAAUM,EADVG,EACUH,MACXI,GAAWV,EACjB,OACEW,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QAAQC,SAAUzB,KAAKI,cACrCiB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOG,QAAQ,YAAWL,EAAAC,EAAAC,cAAA,oCAC1BF,EAAAC,EAAAC,cAAA,SAAOI,GAAG,WACRC,MAAOlB,EACPmB,SAAU,SAAAxB,GAAMa,EAAKD,SAAS,CAACP,SAASL,EAAEyB,OAAOF,SACjDG,KAAK,OACLC,aAAa,MACbC,UAAU,OACZZ,EAAAC,EAAAC,cAAA,UAAQQ,KAAK,SAASP,UAAU,WAAWJ,SAAUA,GAArD,MACAC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAASR,GAAgB,eAtD1BkB,sCC2ETC,cA1Eb,SAAAA,EAAYvC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmC,IACjBtC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqC,GAAAhC,KAAAH,KAAMJ,KAkBRwC,QAAU,WACR,IAAMC,EAAO,IAAIC,KAAKA,KAAKC,OAC3B,SAAAC,OAAUH,EAAKI,WAAf,KAAAD,QAA8B,IAAIH,EAAKK,cAAcC,OAAO,KAlB5D9C,EAAK+C,WAAa/C,EAAK+C,WAAWC,KAAhB/C,OAAAgD,EAAA,EAAAhD,CAAAD,IAHDA,4EAMP,IACFkD,EAAa/C,KAAKgD,KAAlBD,SACRA,EAASE,UAAYF,EAASG,yDAI9BlD,KAAK4C,wDAGYO,EAAWC,GAC5BpD,KAAK4C,yDAYH,OAAOS,IAAEC,IAAItD,KAAKJ,MAAM2D,YAAa,SAAAC,GACnC,OACEnC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,yBAAyBiC,IAAKD,GAC1CnC,EAAAC,EAAAC,cAAA,YAAAiB,OAAOgB,EAAP,wDAMCE,EAAOC,GAAW,IAAAzC,EAAAlB,KAC3B,OAAG0D,EAAME,OAAS,EACTF,EAAMJ,IAAI,SAACO,EAAMC,GACtB,IAAMC,EAAWF,EAAKnD,WAAaiD,EAAa,QAAU,GAC1D,OACEtC,EAAAC,EAAAC,cAAA,MAAIkC,IAAKK,EAAOtC,UAAWuC,GACzB1C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAS,gBAAAgB,OAAkBuB,IAC9B1C,EAAAC,EAAAC,cAAA,QAAMC,UAAU,KAAKqC,EAAKG,SAC1B3C,EAAAC,EAAAC,cAAA,aAAQL,EAAKkB,YAEdyB,EAAKnD,WAAaiD,GAActC,EAAAC,EAAAC,cAAA,QAAMC,UAAU,qBAAqBqC,EAAKnD,cAM5EW,EAAAC,EAAAC,cAAA,MAAIC,UAAU,qBAAd,4EAIF,IAAAyC,EACqBjE,KAAKJ,MAA1B8D,EADAO,EACAP,MAAOC,EADPM,EACON,WACd,OACEtC,EAAAC,EAAAC,cAAA,MAAI2C,IAAI,WAAW1C,UAAU,uBAEzBxB,KAAKmE,WAAWT,EAAOC,GAGvB3D,KAAKoE,4BAnEQlC,aCDjBmC,EAAS,CAAC,UAAU,UAAU,UAAW,UAAW,UAAW,WAgDtDC,sLA3CDd,EAAKG,EAAYG,GAK3B,IAOMS,EAAWf,IAASG,EAAaH,EAAK,SAAWA,EAEvD,OACEnC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAAOgD,MAAO,CAACC,WAAWJ,EAXnC,SAASP,GACjB,OAAGA,GAASO,EAAOT,OACVE,EAAQO,EAAOT,QAAQE,EAAMO,EAAOT,QAEtCE,EAO2CY,CAAEZ,MAC/CN,EAAKmB,OAAO,IAEftD,EAAAC,EAAAC,cAAA,QAAMiD,MAAO,CAACI,WAAW,OAAQC,SAAU,SAAWN,qCAInD,IAAA1E,EAAAG,KAAAiE,EACqBjE,KAAKJ,MAA1BkF,EADAb,EACAa,MAAOnB,EADPM,EACON,WACd,OACEtC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,qBAAauD,EAAMlB,OAAnB,KACAvC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,wBAEVsD,EAAMxB,IAAI,SAACE,EAAMM,GAAP,OACRzC,EAAAC,EAAAC,cAAA,MAAIkC,IAAKK,GACNjE,EAAKkF,YAAYvB,EAAKG,EAAYG,eAjC7B5B,qBCqJP8C,cApJb,SAAAA,EAAYpF,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgF,IACjBnF,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkF,GAAA7E,KAAAH,KAAMJ,KAuDRqF,eAAiB,SAAApE,GAAyB,IAClCgD,EAAO,CAACnD,SAD0BG,EAAvBH,SACOsD,QADgBnD,EAAbmD,SAE3BnE,EAAKoB,SAAS,CAACyC,MAAO7D,EAAKW,MAAMkD,MAAMlB,OAAOqB,MA1D7BhE,EA6DnBqF,cAAgB,SAACC,GAAS,IACjBzE,EAAYyE,EAAZzE,SACD6C,EAAczD,OAAOsF,OAAO,GAAIvF,EAAKW,MAAM+C,aACjDA,EAAY7C,GAAYA,EACxBb,EAAKoB,SAAS,CAACsC,iBAjEE1D,EAoEnBwF,iBAAmB,SAACF,GAClB,IAAI5B,EAAczD,OAAOsF,OAAO,GAAIvF,EAAKW,MAAM+C,oBACxCA,EAAY4B,EAAKzE,UACxBb,EAAKoB,SAAS,CAACsC,iBAvEE1D,EA2EnBO,aAAe,SAAAC,GACbA,EAAEC,iBADgB,IAEX0D,EAAWnE,EAAKW,MAAhBwD,QACAtD,EAAYb,EAAKD,MAAjBc,SAEHsD,IACFnE,EAAKoF,eAAe,CAClBvE,SAAUA,EACVsD,QAASA,IAIXnE,EAAKW,MAAMC,OAAOE,KAAKpB,cAAayE,IAEtCnE,EAAKoB,SAAS,CAAC+C,QAAS,MAzFPnE,EA6FnBgC,SAAW,SAAAxB,GAELR,EAAKW,MAAM8E,SACbzF,EAAKoB,SAAS,CAACqE,QAAQ,IACvBzF,EAAKW,MAAMC,OAAOE,KAAKnB,WAItBK,EAAK0F,YACNC,cAAc3F,EAAK0F,YAErB1F,EAAK0F,WAAaE,WAAW,WACvB5F,EAAKW,MAAM8E,SACbzF,EAAKW,MAAMC,OAAOE,KAAKlB,eACvBI,EAAKoB,SAAS,CAACqE,QAAQ,MAExB,KAEHzF,EAAKoB,SAAS,CAAC+C,QAAS3D,EAAEyB,OAAOF,SA7GjC/B,EAAKW,MAAQ,CACXC,OAAQ,KACRuD,QAAS,GACTsB,QAAQ,EACR5B,MAAO,GACPoB,MAAM,GACNvB,YAAa,IARE1D,oFAYC,IAAAqB,EAAAlB,KACXS,EAAUT,KAAKJ,MAAfa,OAIPA,EAAOiF,GAAGtG,QAAO,SAAC+F,GAChBjE,EAAKD,SAAS,CAAC6D,MAAOK,EAAKL,UAK7BrE,EAAOiF,GAAGrG,cAAa,SAAC8F,GACtBjE,EAAKD,SAAS,CAAC6D,MAAOK,EAAKL,UAK7BrE,EAAOiF,GAAGnG,cAAa,SAAC4F,GACtBjE,EAAK+D,eAAeE,KAKtB1E,EAAOiF,GAAGlG,SAAQ,SAAC2F,GACjBjE,EAAKgE,cAAcC,KAIrB1E,EAAOiF,GAAGjG,cAAa,SAAC0F,GACtBjE,EAAKmE,iBAAiBF,KAIxB1E,EAAOiF,GAAGhG,YAAW,SAACyF,GACpBjE,EAAKD,SAAS,CAAC6D,MAAOK,EAAKL,QAE3B5D,EAAKmE,iBAAiBF,KAKzBnF,KAAKiB,SAAS,CAACR,4CA8DP,IAAAF,EAC+BP,KAAKQ,MAApCwD,EADAzD,EACAyD,QAASc,EADTvE,EACSuE,MAAOvB,EADhBhD,EACgBgD,YAChB7C,EAAYV,KAAKJ,MAAjBc,SAEDU,GAAWpB,KAAKQ,MAAMwD,QAC5B,OACE3C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAEXH,EAAAC,EAAAC,cAAA,OAAKI,GAAG,UACNN,EAAAC,EAAAC,cAAA,KAAGiD,MAAO,CAACmB,UAAU,UAAUtE,EAAAC,EAAAC,cAAA,KAAGqE,KAAK,4CAA4C9D,OAAO,SAAS+D,IAAI,sBAAsBrE,UAAU,WAAxG,sBAGnCH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,OAAKI,GAAG,WACNN,EAAAC,EAAAC,cAACuE,EAAD,CAAShB,MAAOA,EAAOnB,WAAYjD,KAErCW,EAAAC,EAAAC,cAAA,OAAKiD,MAAO,CAACuB,MAAM,QAAUvE,UAAU,WACvCH,EAAAC,EAAAC,cAAA,OAAKI,GAAG,UAAUH,UAAU,UAC1BH,EAAAC,EAAAC,cAACyE,EAAD,CAAUzC,YAAaA,EAAaG,MAAO1D,KAAKQ,MAAMkD,MAAOC,WAAYjD,IACzEW,EAAAC,EAAAC,cAAA,QAAMC,UAAU,SAASC,SAAUzB,KAAKI,cACtCiB,EAAAC,EAAAC,cAAA,SACEK,MAAQoC,EACRnC,SAAU7B,KAAK6B,SAAUoE,YAAY,2BACvC5E,EAAAC,EAAAC,cAAA,UAAQQ,KAAK,SAASX,SAAUA,GAAUC,EAAAC,EAAAC,cAAC2E,EAAA,EAAD,kBA3I5BhE,aCAtBiE,ECLQ,wBDqECC,cA7Db,SAAAA,IAAc,IAAAvG,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoG,IACZvG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsG,GAAAjG,KAAAH,QAcFqG,WAAa,WACX,IAAM5F,EAAS6F,IAAGH,GAClB1F,EAAOiF,GAAG,UAAW,WAChB7F,EAAKW,MAAME,UACZD,EAAOE,KAAKxB,cAAaU,EAAKW,MAAME,SAAUb,EAAK0G,YAGvD1G,EAAKoB,SAAS,CAACR,YAtBHZ,EA4Bd0G,SAAW,SAAA1F,GAAwB,IAAtBH,EAAsBG,EAAtBH,SAAUI,EAAYD,EAAZC,OACdL,EAAUZ,EAAKW,MAAfC,OACJK,EACDjB,EAAKoB,SAAS,CAACP,SAAU,KAEzBD,EAAOE,KAAKrB,WAAUoB,IAjCZb,EAqCde,YAAc,SAAAF,GACZb,EAAKoB,SAAS,CAACP,cApCfb,EAAKW,MAAQ,CACXE,SAAU,GACVD,OAAQ,MAJEZ,oFASZG,KAAKqG,8CAgCE,IAAA9F,EACuBP,KAAKQ,MAA3BC,EADDF,EACCE,OAAQC,EADTH,EACSG,SAChB,OACEW,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAEVd,EAKDW,EAAAC,EAAAC,cAACiF,EAAD,CACE9F,SAAYA,EACZD,OAAQA,IANVY,EAAAC,EAAAC,cAACkF,EAAD,CACE7F,YAAeZ,KAAKY,YACpBH,OAAQA,YAlDCyB,aECNwE,MANf,WACE,OACErF,EAAAC,EAAAC,cAACoF,EAAD,OCDJC,IAASC,OAAOxF,EAAAC,EAAAC,cAACuF,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.b877a298.chunk.js","sourcesContent":["module.exports = {\n  VERIFY_USER:'VERIFY_USER',\n  LOGIN: 'LOGIN',\n  USER_JOINED: 'USER_JOINED',\n  ADD_USER:'ADD_USER',\n  NEW_MESSAGE:'NEW_MESSAGE',\n  TYPING:'TYPING',\n  STOP_TYPING:'STOP_TYPING',\n  USER_LEFT:'USER_LEFT'\n}\n","import React, { Component } from 'react';\nimport { VERIFY_USER, ADD_USER } from '../events';\n\nclass LoginForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      error: null,\n      socket: null\n    };\n  }\n\n  componentWillMount(){\n    const {socket} = this.props\n    this.setState({socket});\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { socket, username } = this.state\n    if(username){\n      // Tell the server your username\n      socket.emit(VERIFY_USER, username, this.setUsername);\n    }\n  }\n\n  setUsername = ({username, isUser}) => {\n    const {setUsername} = this.props\n    const {socket} = this.state;\n    if(isUser){\n      this.setError(\"Username taken\")\n    }else{\n      this.setError(null)\n      socket.emit(ADD_USER, username);\n      setUsername(username)\n    }\n  }\n\n  setError = error => {\n    this.setState({error})\n  }\n\n  render() {\n    const {username, error} = this.state\n    const disabled = username ? false : true\n    return (\n      <form className=\"login\" onSubmit={this.handleSubmit}>\n        <div className=\"login-form\">\n          <label htmlFor=\"username\"><h2>What's your username?</h2></label>\n          <input id=\"username\"\n            value={username}\n            onChange={e => {this.setState({username:e.target.value})}}\n            type=\"text\"\n            autoComplete=\"off\"\n            maxLength=\"14\" />\n          <button type=\"submit\" className=\"form-btn\" disabled={disabled}>GO</button>\n          <div className=\"error\">{error ? error : null}</div>\n\n        </div>\n      </form>\n    );\n  }\n\n}\n\nexport default LoginForm;\n","import React, { Component } from 'react';\nimport _ from 'lodash';\n\nclass Messages extends Component {\n  constructor(props) {\n    super(props);\n\n    this.scrollDown = this.scrollDown.bind(this)\n  }\n\n  scrollDown(){\n    const { messages } = this.refs\n    messages.scrollTop = messages.scrollHeight\n  }\n\n  componentDidMount() {\n    this.scrollDown()\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    this.scrollDown()\n  }\n\n  getTime = () => {\n    const date = new Date(Date.now())\n    return `${date.getHours()}:${(\"0\"+date.getMinutes()).slice(-2)}`\n  }\n\n\n  renderTypingUsers(){\n      // We cannot interate through object using es6 map function like we do in array\n      // Instead here we use lodash map function\n      return _.map(this.props.typingUsers, user => {\n        return (\n          <li className=\"user-typing text-muted\" key={user}>\n            <i>{`${user} is typing...`}</i>\n          </li>\n        );\n      });\n  }\n\n  renderChat(chats, myUsername){\n    if(chats.length > 0){\n      return chats.map((chat, index) => {\n        const msgAlign = chat.username === myUsername ? 'right' : ''\n        return (\n          <li key={index} className={msgAlign}>\n            <div>\n              <div className={`m-box d-flex ${msgAlign}`}>\n                <span className=\"m\">{chat.message}</span>\n                <small>{this.getTime()}</small>\n              </div>\n              {chat.username !== myUsername && <span className=\"text-muted sender\">{chat.username}</span>}\n            </div>\n          </li>\n        )\n      })\n    }else{\n      return <li className=\"no-msg text-muted\">Send a message to start a conversation.</li>\n    }\n  }\n\n  render() {\n    const {chats, myUsername} = this.props\n    return (\n      <ul ref=\"messages\" className=\"messages neutralize\">\n        {\n          this.renderChat(chats, myUsername)\n        }\n        {\n          this.renderTypingUsers()\n        }\n      </ul>\n    );\n  }\n\n}\n\nexport default Messages;\n","import React, { Component } from 'react';\n\nconst colors = ['#00BCD4','#FFB300','#E91E63', '#8BC34A', '#00cfb6', '#795548']\n\n\n\nclass SideBar extends Component {\n  _renderUser(user,myUsername, index){\n    /*\n    input   0 1 2 3 4 5 6 7 8 9 10 11 12\n    output  0 1 2 3 4 5 0 1 2 3  4  5  0\n    */\n    const i = function(index){\n      if(index >= colors.length){\n        return index - colors.length*(index/colors.length)\n      }\n      return index\n    }\n\n    const userName = user === myUsername ? user+' (You)' : user\n\n    return (\n      <div className=\"d-flex\">\n        <div className=\"u-pp\" style={{background:colors[i(index)]}}>\n          {user.charAt(0)}\n        </div>\n        <span style={{lineHeight:40+'px',fontSize: 13+'px'}}>{userName}</span>\n      </div>\n    )\n  }\n  render() {\n    const {users, myUsername} = this.props\n    return (\n      <div>\n        <h2>People ({users.length})</h2>\n        <ul className=\"user-list neutralize\">\n          {\n            users.map((user, index) => (\n              <li key={index}>\n                {this._renderUser(user,myUsername, index)}\n              </li>\n            ))\n          }\n        </ul>\n      </div>\n    );\n  }\n\n}\n\nexport default SideBar;\n","import React, { Component } from 'react'\nimport Messages from './Messages'\nimport Sidebar from './Sidebar'\nimport { FaRegPaperPlane } from \"react-icons/fa\";\nimport { LOGIN, USER_JOINED, NEW_MESSAGE, TYPING, STOP_TYPING, USER_LEFT } from '../../events';\n\nclass ChatContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      socket: null,\n      message: '',\n      typing: false,\n      chats: [],\n      users:[],\n      typingUsers: {}\n    };\n  }\n\n  componentWillMount(){\n    const {socket} = this.props\n    // socket.emit('add user', 'manjil');\n\n    // Whenever the server emits 'login', log the login message\n    socket.on(LOGIN, (data) => {\n      this.setState({users: data.users})\n      // console.log(\"On login\", data);\n    });\n\n     // Whenever the server emits 'user joined', log it in the chat body\n    socket.on(USER_JOINED, (data) => {\n      this.setState({users: data.users})\n      // console.log(\"User joined\", data);\n    });\n\n    // Whenever the server emits 'new message', update the chat body\n    socket.on(NEW_MESSAGE, (data) => {\n      this.addChatMessage(data);\n    });\n\n\n    // Whenever the server emits 'typing', show the typing message\n    socket.on(TYPING, (data) => {\n      this.addChatTyping(data);\n    });\n\n    // Whenever the server emits 'stop typing', kill the typing message\n    socket.on(STOP_TYPING, (data) => {\n      this.removeChatTyping(data);\n    });\n\n    // Whenever the server emits 'user left', log it in the chat body\n    socket.on(USER_LEFT, (data) => {\n      this.setState({users: data.users})\n      // console.log(data.username + ' left');\n      this.removeChatTyping(data);\n    });\n\n\n\n   this.setState({socket})\n  }\n\n  addChatMessage = ({username, message}) => {\n    const chat = {username, message}\n    this.setState({chats: this.state.chats.concat(chat)})\n  }\n\n  addChatTyping = (data) => {\n    const {username} = data\n    const typingUsers = Object.assign({}, this.state.typingUsers)\n    typingUsers[username] = username\n    this.setState({typingUsers})\n  }\n\n  removeChatTyping = (data) => {\n    let typingUsers = Object.assign({}, this.state.typingUsers)\n    delete typingUsers[data.username]\n    this.setState({typingUsers})\n  }\n\n  // Sends a chat message\n  handleSubmit = e => {\n    e.preventDefault();\n    const {message} = this.state\n    const {username} = this.props\n    // if there is a non-empty message and a socket connection\n    if (message) {\n      this.addChatMessage({\n        username: username,\n        message: message\n      });\n\n      // tell server to execute 'new message' and send along one parameter\n      this.state.socket.emit(NEW_MESSAGE, message);\n    }\n    this.setState({message: ''})\n\n  }\n\n  onChange = e => {\n\n    if(!this.state.typing){\n      this.setState({typing: true})\n      this.state.socket.emit(TYPING);\n    }\n\n\n    if(this.stopTyping)\n      clearInterval(this.stopTyping)\n\n    this.stopTyping = setTimeout(() => {\n      if (this.state.typing) {\n        this.state.socket.emit(STOP_TYPING);\n        this.setState({typing: false})\n      }\n    }, 400);\n\n    this.setState({message: e.target.value})\n  }\n\n\n  render() {\n    const {message, users, typingUsers} = this.state\n    const {username} = this.props\n\n    const disabled = this.state.message ? false : true\n    return (\n      <div className=\"fw\">\n        {\n          <div id=\"header\">\n            <p style={{textAlign:'right'}}><a href=\"https://www.vortexnepal.com/manjiltamang/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"caption\">By Manjil Tamang</a></p>\n          </div>\n        }\n        <div className=\"d-flex main-wrapper\">\n          <div id=\"sidebar\">\n            <Sidebar users={users} myUsername={username}/>\n          </div>\n          <div style={{width:15+'px'}} className=\"spacer\"></div>\n          <div id=\"chatbox\" className=\"d-flex\">\n            <Messages typingUsers={typingUsers} chats={this.state.chats} myUsername={username}/>\n            <form className=\"d-flex\" onSubmit={this.handleSubmit}>\n              <input\n                value= {message}\n                onChange={this.onChange} placeholder=\"Type a message here...\"/>\n              <button type=\"submit\" disabled={disabled}><FaRegPaperPlane /></button>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default ChatContainer;\n","import React, { Component } from 'react'\nimport io from 'socket.io-client'\nimport LoginForm from './LoginForm'\nimport ChatContainer from './chats/ChatContainer'\nimport config from '../config';\nimport { VERIFY_USER, ADD_USER } from '../events';\nconst socketUrl = config.SERVER_URL\n\nclass Layout extends Component {\n  constructor() {\n    super();\n    this.state = {\n      username: '',\n      socket: null\n    };\n  }\n\n  componentWillMount() {\n    this.initSocket()\n  }\n\n  /*\n  * Connect to and initialize the socket.\n  */\n  initSocket = () => {\n    const socket = io(socketUrl)\n    socket.on('connect', ()=>{\n      if(this.state.username){\n        socket.emit(VERIFY_USER, this.state.username, this.reconnet);\n      }\n    })\n    this.setState({socket})\n  }\n\n  /*\n  * To reconnect user if connection is lost\n  */\n  reconnet = ({username, isUser}) => {\n    const {socket} = this.state;\n    if(isUser){\n      this.setState({username: ''})\n    }else{\n      socket.emit(ADD_USER, username);\n    }\n  }\n\n  setUsername = username => {\n    this.setState({username})\n  }\n\n  render() {\n    const { socket, username  } = this.state\n    return (\n      <div className=\"mjl-container\">\n        {\n          !username ?\n          <LoginForm\n            setUsername = {this.setUsername}\n            socket={socket}/>\n          :\n          <ChatContainer\n            username = {username}\n            socket={socket}/>\n        }\n      </div>\n    );\n  }\n\n}\n\nexport default Layout;\n","export default {\n  SERVER_URL: 'http://localhost:5000'\n}\n// https://glacial-badlands-28940.herokuapp.com\n// http://localhost:5000\n","import React from 'react';\nimport Layout from './components/Layout'\n\nfunction App() {\n  return (\n    <Layout />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}